{"ast":null,"code":"import Tooltip from 'bootstrap/js/dist/tooltip';\nimport Modal from 'bootstrap/js/dist/modal';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./data-storage.service\";\nimport * as i3 from \"./requests.service\";\nimport * as i4 from \"./auth/auth.service\";\nimport * as i5 from \"./header/header.component\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/material/tooltip\";\nimport * as i8 from \"./footer/footer.component\";\n\nconst _c0 = function () {\n  return {\n    exact: true\n  };\n};\n\nfunction AppComponent_a_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 30);\n    i0.ɵɵelement(1, \"i\", 31);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"routerLinkActiveOptions\", i0.ɵɵpureFunction0(1, _c0));\n  }\n}\n\nfunction AppComponent_span_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"span\", 33);\n    i0.ɵɵtext(3, \"unread messages\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.cartCount, \" \");\n  }\n}\n\nfunction AppComponent_div_30_a_1_i_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 38);\n  }\n}\n\nfunction AppComponent_div_30_a_1_img_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 39);\n  }\n\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"src\", ctx_r8.updatedCurrentProfile == null ? null : ctx_r8.updatedCurrentProfile.imagePath, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction AppComponent_div_30_a_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 35);\n    i0.ɵɵtemplate(1, AppComponent_div_30_a_1_i_1_Template, 1, 0, \"i\", 36);\n    i0.ɵɵtemplate(2, AppComponent_div_30_a_1_img_2_Template, 1, 1, \"img\", 37);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r5.updatedCurrentProfile);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.updatedCurrentProfile);\n  }\n}\n\nfunction AppComponent_div_30_ul_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ul\", 40);\n    i0.ɵɵelementStart(1, \"li\");\n    i0.ɵɵelementStart(2, \"a\", 41);\n    i0.ɵɵlistener(\"click\", function AppComponent_div_30_ul_2_Template_a_click_2_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return ctx_r9.onLogout();\n    });\n    i0.ɵɵtext(3, \"Sign-out\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"li\");\n    i0.ɵɵelementStart(5, \"a\", 42);\n    i0.ɵɵtext(6, \"Profile\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"li\");\n    i0.ɵɵelementStart(8, \"a\", 43);\n    i0.ɵɵtext(9, \"Order History\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AppComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34);\n    i0.ɵɵtemplate(1, AppComponent_div_30_a_1_Template, 3, 2, \"a\", 21);\n    i0.ɵɵtemplate(2, AppComponent_div_30_ul_2_Template, 10, 0, \"ul\", 22);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isAuthenticated);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isAuthenticated);\n  }\n}\n\nfunction AppComponent_a_32_i_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 38);\n  }\n}\n\nfunction AppComponent_a_32_img_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 39);\n  }\n\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"src\", ctx_r12.updatedCurrentProfile == null ? null : ctx_r12.updatedCurrentProfile.imagePath, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction AppComponent_a_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 35);\n    i0.ɵɵtemplate(1, AppComponent_a_32_i_1_Template, 1, 0, \"i\", 36);\n    i0.ɵɵtemplate(2, AppComponent_a_32_img_2_Template, 1, 1, \"img\", 37);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.updatedCurrentProfile);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.updatedCurrentProfile);\n  }\n}\n\nfunction AppComponent_ul_33_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ul\", 40);\n    i0.ɵɵelementStart(1, \"li\");\n    i0.ɵɵelementStart(2, \"a\", 41);\n    i0.ɵɵlistener(\"click\", function AppComponent_ul_33_Template_a_click_2_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return ctx_r13.onLogout();\n    });\n    i0.ɵɵtext(3, \"Sign-out\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"li\");\n    i0.ɵɵelementStart(5, \"a\", 42);\n    i0.ɵɵtext(6, \"Profile\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"li\");\n    i0.ɵɵelementStart(8, \"a\", 43);\n    i0.ɵɵtext(9, \"Order History\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c1 = function (a0) {\n  return {\n    allowEdit: a0\n  };\n};\n\nconst _c2 = function () {\n  return [\"/checkout\"];\n};\n\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(router, dataStorageService, requestsService, authService) {\n      this.router = router;\n      this.dataStorageService = dataStorageService;\n      this.requestsService = requestsService;\n      this.authService = authService;\n      this.title = 'shopping-cart';\n      this.isAuthenticated = false;\n\n      this.router.routeReuseStrategy.shouldReuseRoute = function () {\n        return false;\n      };\n    }\n\n    ngOnInit() {\n      this.authService.autoLogin();\n      this.activatedSub2 = this.dataStorageService.updatedCartCount.subscribe(cartCount => {\n        this.cartCount = cartCount; // console.log('cartcount....');\n        // console.log(cartCount);\n      });\n      this.activatedSub3 = this.dataStorageService.updatedCurrentProfile.subscribe(currentProfile => {\n        // console.log(currentProfile);\n        if (currentProfile) {\n          // console.log('current profile is TRUTHY');\n          this.dataStorageService.updateCartCount();\n          this.updatedCurrentProfile = currentProfile; // console.log(this.updatedCurrentProfile);\n        } else {\n          // console.log('current profile is FALSY');\n          this.updatedCurrentProfile = null;\n        }\n      });\n      this.activatedSub1 = this.authService.user.subscribe(user => {\n        this.isAuthenticated = user ? true : false;\n      });\n      this.activatedSub4 = this.authService.showAutoLogoutModal.subscribe(autoLogoutModal => {\n        if (autoLogoutModal) {\n          this.showAutoLogoutModal();\n        } else {\n          return;\n        }\n      });\n      this.requestsService.fetchCategories();\n      this.requestsService.fetchProducts();\n      this.requestsService.fetchProfiles();\n      const tooltips = document.querySelectorAll('.tt');\n      tooltips.forEach(t => {\n        new Tooltip(t);\n      });\n    }\n\n    ngOnDestroy() {\n      this.activatedSub1.unsubscribe();\n      this.activatedSub2.unsubscribe();\n      this.activatedSub3.unsubscribe();\n      this.activatedSub4.unsubscribe();\n    }\n\n    onLogout() {\n      this.authService.logout();\n    }\n\n    showAutoLogoutModal() {\n      const myModal = document.getElementById('autoLogoutModal');\n      const modal = new Modal(myModal);\n      modal.show();\n    }\n\n  }\n\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.DataStorageService), i0.ɵɵdirectiveInject(i3.RequestsService), i0.ɵɵdirectiveInject(i4.AuthService));\n  };\n\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    decls: 45,\n    vars: 13,\n    consts: [[\"id\", \"page-container\"], [\"id\", \"content-wrap\"], [\"id\", \"content-body\", 1, \"container-lg\", \"border\", \"border-2\", \"border-dark\", 2, \"background-color\", \"rgb(238, 238, 238)\"], [1, \"row\"], [1, \"col-sm-auto\", \"bg-light\", \"sticky-top\", 2, \"z-index\", \"1\"], [\"id\", \"content-body-stickynav\", 1, \"d-flex\", \"flex-sm-column\", \"flex-row\", \"flex-nowrap\", \"align-items-center\"], [1, \"nav\", \"nav-pills\", \"nav-flush\", \"flex-sm-column\", \"flex-row\", \"flex-nowrap\", \"mb-auto\", \"mx-auto\", \"text-center\", \"justify-content-between\", \"w-100\", \"align-items-center\"], [1, \"nav-item\", \"mt-sm-3\", \"mt-0\", \"removeMarginForMobileDevice\"], [\"routerLinkActive\", \"navitemj\", \"routerLink\", \"/\", \"class\", \"nav-link py-1 text-dark\", 3, \"routerLinkActiveOptions\", 4, \"ngIf\"], [1, \"nav-item\"], [\"routerLinkActive\", \"navitemj\", \"routerLink\", \"/categories\", 1, \"nav-link\", \"py-1\", \"text-dark\", 3, \"queryParams\"], [\"matTooltip\", \"Categories\", \"matTooltipPosition\", \"right\", 1, \"bi-tags\", \"fs-1\"], [\"routerLinkActive\", \"navitemj\", \"routerLink\", \"/all-products\", 1, \"nav-link\", \"py-1\", \"text-dark\", 3, \"queryParams\"], [\"matTooltip\", \"All Products\", \"matTooltipPosition\", \"right\", 1, \"bi-grid-3x3-gap\", \"fs-1\"], [\"routerLinkActive\", \"navitemj\", \"routerLink\", \"/view-cart\", 1, \"nav-link\", \"py-1\", \"position-relative\", \"text-dark\"], [\"matTooltip\", \"View Cart\", \"matTooltipPosition\", \"right\", 1, \"bi-cart3\", \"fs-1\"], [\"routerLinkActive\", \"navitemj\", \"class\", \"\\n                        position-absolute\\n                        translate-middle-x\\n                        badge\\n                        rounded-pill\\n                        bg-danger\\n                      \", 4, \"ngIf\"], [\"routerLinkActive\", \"navitemj\", 1, \"nav-link\", \"py-1\", \"text-dark\", 3, \"routerLink\"], [\"matTooltip\", \"Checkout\", \"matTooltipPosition\", \"right\", 1, \"bi-cart-check-fill\", \"fs-1\"], [\"class\", \"\\n                  dropdown\\n                  d-flex\\n                  align-items-center\\n                  justify-content-center\\n                  d-sm-none\\n                \", 4, \"ngIf\"], [1, \"dropend\", \"d-flex\", \"align-items-center\", \"justify-content-center\", \"d-none\", \"d-sm-block\"], [\"href\", \"#\", \"class\", \"\\n                    p-1\\n                    link-dark\\n                    text-decoration-none\\n                    dropdown-toggle\\n                    py-md-3\\n                    safariOutline-Fix\\n                  \", \"id\", \"dropdownUser3\", \"data-bs-toggle\", \"dropdown\", \"aria-expanded\", \"false\", 4, \"ngIf\"], [\"class\", \"dropdown-menu text-small shadow\", \"aria-labelledby\", \"dropdownUser3\", 4, \"ngIf\"], [1, \"col-sm\", \"p-3\"], [\"id\", \"footer\", 2, \"z-index\", \"2\"], [\"id\", \"autoLogoutModal\", \"tabindex\", \"-1\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\", \"modal-dialog-centered\", \"modal-sm\"], [1, \"modal-content\"], [1, \"modal-body\", \"text-center\"], [\"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\", \"text-center\", \"mt-3\"], [\"routerLinkActive\", \"navitemj\", \"routerLink\", \"/\", 1, \"nav-link\", \"py-1\", \"text-dark\", 3, \"routerLinkActiveOptions\"], [\"matTooltip\", \"Home / Authenticate\", \"matTooltipPosition\", \"right\", 1, \"bi-house\", \"fs-1\"], [\"routerLinkActive\", \"navitemj\", 1, \"position-absolute\", \"translate-middle-x\", \"badge\", \"rounded-pill\", \"bg-danger\"], [1, \"visually-hidden\"], [1, \"dropdown\", \"d-flex\", \"align-items-center\", \"justify-content-center\", \"d-sm-none\"], [\"href\", \"#\", \"id\", \"dropdownUser3\", \"data-bs-toggle\", \"dropdown\", \"aria-expanded\", \"false\", 1, \"p-1\", \"link-dark\", \"text-decoration-none\", \"dropdown-toggle\", \"py-md-3\", \"safariOutline-Fix\"], [\"class\", \"bi-person-circle h2\", 4, \"ngIf\"], [\"alt\", \"\", \"style\", \"\\n                      width: 40px;\\n                      height: 40px;\\n                      border-radius: 50%;\\n                      border: solid 2px #6c757d;\\n                      padding: 1px;\\n                      object-fit: contain;\\n                    \", 3, \"src\", 4, \"ngIf\"], [1, \"bi-person-circle\", \"h2\"], [\"alt\", \"\", 2, \"width\", \"40px\", \"height\", \"40px\", \"border-radius\", \"50%\", \"border\", \"solid 2px #6c757d\", \"padding\", \"1px\", \"object-fit\", \"contain\", 3, \"src\"], [\"aria-labelledby\", \"dropdownUser3\", 1, \"dropdown-menu\", \"text-small\", \"shadow\"], [1, \"dropdown-item\", 3, \"click\"], [\"routerLink\", \"/edit-profile\", 1, \"dropdown-item\"], [\"routerLink\", \"/order-history\", 1, \"dropdown-item\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelement(1, \"app-header\");\n        i0.ɵɵelementStart(2, \"div\", 1);\n        i0.ɵɵelementStart(3, \"div\", 2);\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵelementStart(6, \"div\", 5);\n        i0.ɵɵelementStart(7, \"ul\", 6);\n        i0.ɵɵelementStart(8, \"li\", 7);\n        i0.ɵɵelementStart(9, \"span\");\n        i0.ɵɵtemplate(10, AppComponent_a_10_Template, 2, 2, \"a\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"li\", 9);\n        i0.ɵɵelementStart(12, \"span\");\n        i0.ɵɵelementStart(13, \"a\", 10);\n        i0.ɵɵelement(14, \"i\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"li\", 9);\n        i0.ɵɵelementStart(16, \"span\");\n        i0.ɵɵelementStart(17, \"a\", 12);\n        i0.ɵɵelement(18, \"i\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"li\", 9);\n        i0.ɵɵelementStart(20, \"span\");\n        i0.ɵɵelementStart(21, \"a\", 14);\n        i0.ɵɵelement(22, \"i\", 15);\n        i0.ɵɵtemplate(23, AppComponent_span_23_Template, 4, 1, \"span\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"li\", 9);\n        i0.ɵɵelementStart(25, \"span\");\n        i0.ɵɵelementStart(26, \"a\", 17);\n        i0.ɵɵelement(27, \"i\", 18);\n        i0.ɵɵelement(28, \"br\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(29, \"br\");\n        i0.ɵɵtemplate(30, AppComponent_div_30_Template, 3, 2, \"div\", 19);\n        i0.ɵɵelementStart(31, \"div\", 20);\n        i0.ɵɵtemplate(32, AppComponent_a_32_Template, 3, 2, \"a\", 21);\n        i0.ɵɵtemplate(33, AppComponent_ul_33_Template, 10, 0, \"ul\", 22);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"div\", 23);\n        i0.ɵɵelement(35, \"router-outlet\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(36, \"app-footer\", 24);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"div\", 25);\n        i0.ɵɵelementStart(38, \"div\", 26);\n        i0.ɵɵelementStart(39, \"div\", 27);\n        i0.ɵɵelementStart(40, \"div\", 28);\n        i0.ɵɵtext(41, \" Your session has expired. \");\n        i0.ɵɵelement(42, \"br\");\n        i0.ɵɵelementStart(43, \"div\", 29);\n        i0.ɵɵtext(44, \" OK \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isAuthenticated);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"queryParams\", i0.ɵɵpureFunction1(8, _c1, (ctx.updatedCurrentProfile == null ? null : ctx.updatedCurrentProfile.accessType) === \"admin\" ? \"1\" : \"0\"));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"queryParams\", i0.ɵɵpureFunction1(10, _c1, (ctx.updatedCurrentProfile == null ? null : ctx.updatedCurrentProfile.accessType) === \"admin\" ? \"1\" : \"0\"));\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.cartCount > 0);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(12, _c2));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.isAuthenticated);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.isAuthenticated);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isAuthenticated);\n      }\n    },\n    directives: [i5.HeaderComponent, i6.NgIf, i1.RouterLinkWithHref, i1.RouterLinkActive, i7.MatTooltip, i1.RouterOutlet, i8.FooterComponent],\n    styles: [\"@import\\\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.0/font/bootstrap-icons.css\\\";.rounded-pill[_ngcontent-%COMP%]{font-size:11px}.safariOutline-Fix[_ngcontent-%COMP%]:focus{outline:none}#page-container[_ngcontent-%COMP%]{position:relative;min-height:100vh}#content-wrap[_ngcontent-%COMP%]{padding-bottom:40px}#footer[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;min-height:72px}#content-body[_ngcontent-%COMP%]{min-height:calc(100vh - 140px);position:relative}@media screen and (min-width: 577px){#content-body-stickynav[_ngcontent-%COMP%]{min-height:calc(100vh - 140px)}.nav-item[_ngcontent-%COMP%]{margin-bottom:8px}}@media screen and (max-width: 576px){.navitemj[_ngcontent-%COMP%]{margin:5px 0}}.navitemj[_ngcontent-%COMP%]{background-color:#5c6bc0;color:#fff!important}.border-dark[_ngcontent-%COMP%]{border-top:0px!important}\"]\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}