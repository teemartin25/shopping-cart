{"ast":null,"code":"import Toast from 'bootstrap/js/dist/toast';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../data-storage.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nconst _c0 = [\"myToast1\"];\n\nfunction ViewCartComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵelementStart(1, \"div\", 16);\n    i0.ɵɵtext(2, \" Cart is empty \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ViewCartComponent_div_6_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵelementStart(1, \"div\", 20);\n    i0.ɵɵelementStart(2, \"h5\", 24);\n    i0.ɵɵtext(3, \"Image\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 22);\n    i0.ɵɵelementStart(5, \"div\", 23);\n    i0.ɵɵelementStart(6, \"h5\", 24);\n    i0.ɵɵtext(7, \"Product\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 26);\n    i0.ɵɵelementStart(9, \"p\", 27);\n    i0.ɵɵelementStart(10, \"small\", 32);\n    i0.ɵɵtext(11, \" Quantity\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 31);\n    i0.ɵɵelementStart(13, \"p\", 27);\n    i0.ɵɵelementStart(14, \"small\", 32);\n    i0.ɵɵtext(15, \" Price\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ViewCartComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtemplate(1, ViewCartComponent_div_6_div_1_Template, 16, 0, \"div\", 18);\n    i0.ɵɵelementStart(2, \"div\", 19);\n    i0.ɵɵelementStart(3, \"div\", 20);\n    i0.ɵɵelement(4, \"img\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 22);\n    i0.ɵɵelementStart(6, \"div\", 23);\n    i0.ɵɵelementStart(7, \"h5\", 24);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementStart(9, \"i\", 25);\n    i0.ɵɵlistener(\"click\", function ViewCartComponent_div_6_Template_i_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const product_r4 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.deleteItemFromCart(product_r4);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 26);\n    i0.ɵɵelementStart(11, \"p\", 27);\n    i0.ɵɵelementStart(12, \"i\", 28);\n    i0.ɵɵlistener(\"click\", function ViewCartComponent_div_6_Template_i_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const product_r4 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.subtractItemQuantity(product_r4);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"small\", 29);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"i\", 30);\n    i0.ɵɵlistener(\"click\", function ViewCartComponent_div_6_Template_i_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const product_r4 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.addItemQuantity(product_r4);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 31);\n    i0.ɵɵelementStart(17, \"p\", 27);\n    i0.ɵɵelementStart(18, \"small\", 32);\n    i0.ɵɵtext(19);\n    i0.ɵɵpipe(20, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const product_r4 = ctx.$implicit;\n    const isFirst_r5 = ctx.first;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", isFirst_r5);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", product_r4.productImage, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", product_r4.productName, \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(product_r4.productCartQuantity);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(20, 5, product_r4.productPrice * product_r4.productCartQuantity));\n  }\n}\n\nconst _c1 = function () {\n  return [\"/checkout\"];\n};\n\nfunction ViewCartComponent_div_7_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"span\", 36);\n    i0.ɵɵtext(2, \"Proceed To Checkout\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c1));\n  }\n}\n\nfunction ViewCartComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵelementStart(1, \"div\", 34);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"currency\");\n    i0.ɵɵtemplate(4, ViewCartComponent_div_7_div_4_Template, 3, 2, \"div\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Total \", i0.ɵɵpipeBind1(3, 2, ctx_r2.total), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.cart.length > 0);\n  }\n}\n\nexport let ViewCartComponent = /*#__PURE__*/(() => {\n  class ViewCartComponent {\n    constructor(dataStorageService) {\n      this.dataStorageService = dataStorageService;\n      this.deleteItemToast = null;\n    }\n\n    ngOnInit() {\n      this.activatedSub1 = this.dataStorageService.updatedCart.subscribe(updatedCart => {\n        // console.log(updatedCart);\n        if (updatedCart) {\n          // console.log('not null from VIEwCART');\n          // console.log(updatedCart);\n          this.cart = updatedCart;\n          this.total = this.dataStorageService.getTotal();\n        } else {\n          // console.log('null from VIEWCART');\n          // console.log(updatedCart);\n          this.cart = null;\n        }\n      });\n      this.activatedSub2 = this.dataStorageService.updatedCurrentProfile.subscribe(currentProfile => {\n        this.updatedCurrentProfile = currentProfile;\n      });\n      this.dataStorageService.updateExistingCartItems();\n      this.total = this.dataStorageService.getTotal();\n      this.deleteItemToast = new Toast(this.toastEl1.nativeElement, {});\n    }\n\n    ngOnDestroy() {\n      this.activatedSub1.unsubscribe();\n      this.activatedSub2.unsubscribe();\n    }\n\n    addItemQuantity(product) {\n      if (product.productCartQuantity === 10) return;\n      this.dataStorageService.addItemCartCount(product);\n    }\n\n    subtractItemQuantity(product) {\n      if (product.productCartQuantity === 1) return;\n      this.dataStorageService.subtractItemCartCount(product);\n    }\n\n    deleteItemFromCart(product) {\n      this.removedItemFromCart = product;\n      this.dataStorageService.deleteItemFromCart(product);\n      this.showDeleteItemToast();\n    }\n\n    showDeleteItemToast() {\n      this.deleteItemToast.show();\n    }\n\n  }\n\n  ViewCartComponent.ɵfac = function ViewCartComponent_Factory(t) {\n    return new (t || ViewCartComponent)(i0.ɵɵdirectiveInject(i1.DataStorageService));\n  };\n\n  ViewCartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ViewCartComponent,\n    selectors: [[\"app-view-cart\"]],\n    viewQuery: function ViewCartComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 7);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.toastEl1 = _t.first);\n      }\n    },\n    decls: 18,\n    vars: 6,\n    consts: [[1, \"display-6\"], [1, \"container-lg-fluid\", \"mt-3\", \"mb-5\"], [\"class\", \"lead mt-5 d-flex col-lg-8 mx-auto\", \"style\", \"min-height: 350px; border: 5px dashed rgb(73, 72, 72)\", 4, \"ngIf\"], [1, \"row\", \"justify-content-center\"], [1, \"col-lg-7\", \"p-0\", \"p-sm-3\", \"mb-3\"], [\"class\", \"card d-flex roundedcorner\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"col-lg-4 display-6 text-center p-3\", 4, \"ngIf\"], [1, \"position-fixed\", \"bottom-0\", \"end-0\", \"p-3\", 2, \"z-index\", \"999999\"], [\"role\", \"alert\", \"aria-live\", \"assertive\", \"aria-atomic\", \"true\", \"data-bs-autohide\", \"true\", 1, \"toast\", \"fade\"], [\"myToast1\", \"\"], [1, \"toast-header\"], [\"alt\", \"...\", 1, \"rounded\", \"me-2\", 2, \"max-width\", \"30px\", \"max-height\", \"fit-content\", 3, \"src\"], [1, \"me-auto\"], [\"type\", \"button\", \"data-bs-dismiss\", \"toast\", \"aria-\", \"\", \"label\", \"Close\", 1, \"btn-close\"], [1, \"toast-body\"], [1, \"lead\", \"mt-5\", \"d-flex\", \"col-lg-8\", \"mx-auto\", 2, \"min-height\", \"350px\", \"border\", \"5px dashed rgb(73, 72, 72)\"], [1, \"align-middle\", \"my-auto\", \"mx-auto\", \"lead\", \"fw-bolder\", \"text-dark\"], [1, \"card\", \"d-flex\", \"roundedcorner\"], [\"class\", \"row g-0 align-items-center\", 4, \"ngIf\"], [1, \"row\", \"g-0\", \"align-items-center\"], [1, \"col-2\", \"col-sm-2\", \"text-center\"], [\"alt\", \"card-horizontal-image\", 1, \"img-fluid\", \"w-25\", 3, \"src\"], [1, \"col-5\", \"col-sm-5\"], [1, \"card-body\"], [1, \"card-title\", \"small\", \"m-0\"], [1, \"bi-trash\", \"text-secondary\", 2, \"font-size\", \"13px\", \"cursor\", \"pointer\", 3, \"click\"], [1, \"col-3\", \"col-sm-3\"], [1, \"card-text\", \"text-center\"], [1, \"bi-dash-circle-fill\", \"text-danger\", 2, \"font-size\", \"13px\", \"cursor\", \"pointer\", 3, \"click\"], [1, \"text-muted\", \"mx-2\"], [1, \"bi-plus-circle-fill\", \"text-success\", 2, \"font-size\", \"13px\", \"cursor\", \"pointer\", 3, \"click\"], [1, \"col-2\", \"col-sm-2\"], [1, \"text-muted\"], [1, \"col-lg-4\", \"display-6\", \"text-center\", \"p-3\"], [1, \"bg-warning\", \"roundedcorner\", \"p-3\", \"mx-auto\", 2, \"max-width\", \"400px\"], [4, \"ngIf\"], [1, \"btn\", \"btn-dark\", \"text-center\", 3, \"routerLink\"]],\n    template: function ViewCartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtext(1, \"View Cart\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 1);\n        i0.ɵɵtemplate(3, ViewCartComponent_div_3_Template, 3, 0, \"div\", 2);\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵtemplate(6, ViewCartComponent_div_6_Template, 21, 7, \"div\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(7, ViewCartComponent_div_7_Template, 5, 4, \"div\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 7);\n        i0.ɵɵelementStart(9, \"div\", 8, 9);\n        i0.ɵɵelementStart(11, \"div\", 10);\n        i0.ɵɵelement(12, \"img\", 11);\n        i0.ɵɵelementStart(13, \"strong\", 12);\n        i0.ɵɵtext(14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(15, \"button\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"div\", 14);\n        i0.ɵɵtext(17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.cart.length < 1);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.cart);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.cart.length > 0);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"src\", ctx.removedItemFromCart == null ? null : ctx.removedItemFromCart.productImage, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.removedItemFromCart == null ? null : ctx.removedItemFromCart.productName);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" Hello, \", ctx.updatedCurrentProfile == null ? null : ctx.updatedCurrentProfile.firstName, \"! Item has been removed from the cart. \");\n      }\n    },\n    directives: [i2.NgIf, i2.NgForOf, i3.RouterLink],\n    pipes: [i2.CurrencyPipe],\n    styles: [\".roundedcorner[_ngcontent-%COMP%]{border-radius:10px;background-color:#fff;box-shadow:0 1px 5px #000}\"]\n  });\n  return ViewCartComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}